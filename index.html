

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Guided Polymer Selection Platform</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --primary-dark: #1a252f;
            --primary-light: #34495e;
            --accent-color: #3498db;
            --accent-hover: #2980b9;
            --accent-light: #5dade2;
            --success-color: #27ae60;
            --success-light: #52c77d;
            --warning-color: #f39c12;
            --error-color: #e74c3c;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --text-muted: #95a5a6;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #ecf0f1;
            --border-color: #dfe6e9;
            --border-light: #e8ebed;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 50%, rgba(52, 152, 219, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(41, 128, 185, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .header {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 24px;
            padding: 60px 40px;
            box-shadow: var(--shadow-xl);
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(52, 152, 219, 0.05),
                transparent
            );
            animation: shimmer 3s infinite;
        }

        h1 {
            color: var(--primary-color);
            font-size: 3em;
            font-weight: 800;
            margin-bottom: 15px;
            letter-spacing: -1px;
            position: relative;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.3em;
            margin-bottom: 20px;
            font-weight: 500;
            line-height: 1.6;
        }

        .new-feature-tag {
            color: var(--accent-color);
            font-weight: 700;
            font-size: 1.1em;
            margin: 15px 0;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        .status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--success-color);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 600;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.2);
            font-size: 0.95em;
            letter-spacing: 0.5px;
        }

        .status::before {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 35px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-light));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--accent-color);
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.6em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.05em;
        }

        .card ul {
            list-style: none;
            padding: 0;
        }

        .card li {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
            font-size: 1.05em;
            transition: all 0.2s ease;
            position: relative;
            padding-left: 28px;
        }

        .card li:last-child {
            border-bottom: none;
        }

        .card li:hover {
            color: var(--accent-color);
            padding-left: 32px;
        }

        .card li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.2em;
        }

        .button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 10px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            font-size: 1.05em;
        }

        .button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            transition: left 0.5s ease;
        }

        .button:hover::before {
            left: 100%;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .button:active {
            transform: translateY(-1px);
        }

        .links {
            text-align: center;
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .demo-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: 24px;
            padding: 45px;
            box-shadow: var(--shadow-xl);
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .demo-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.05em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input, select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
            color: var(--text-primary);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        input:hover, select:hover {
            border-color: var(--accent-color);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
            transform: translateY(-2px);
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--accent-hover) 100%);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 30px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.25);
            position: relative;
            overflow: hidden;
            margin-top: 10px;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: left 0.5s ease;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.35);
        }

        .submit-btn:active {
            transform: translateY(-1px);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            margin-top: 40px;
            padding: 0;
            display: none;
            animation: fadeInUp 0.5s ease-out;
        }

        .results.show {
            display: block;
        }

        .results > h3 {
            color: var(--text-primary);
            font-size: 1.8em;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .result-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-gradient);
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .result-card h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .result-title {
            font-size: 1.8em;
            margin-bottom: 25px;
            color: var(--primary-color);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 12px;
            margin-bottom: 30px;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric:hover {
            padding-left: 8px;
            background: rgba(52, 152, 219, 0.05);
            margin: 0 -8px;
            padding-left: 16px;
            padding-right: 8px;
            border-radius: 8px;
        }

        .metric-label {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 1.05em;
        }

        .metric-value {
            color: var(--success-color);
            font-weight: 700;
            font-size: 1.1em;
        }

        .protocol-section {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ecf0f1 100%);
            border-radius: 16px;
            border: 2px solid var(--accent-color);
        }

        .protocol-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .protocol-header h4 {
            color: var(--primary-color);
            font-size: 1.4em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lab-ready-badge {
            background: var(--success-color);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(39, 174, 96, 0.2);
        }

        .protocol-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            max-height: 600px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.04);
        }

        .protocol-content::-webkit-scrollbar {
            width: 10px;
        }

        .protocol-content::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
            border-radius: 10px;
        }

        .protocol-content::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 10px;
        }

        .protocol-content::-webkit-scrollbar-thumb:hover {
            background: var(--accent-hover);
        }

        .protocol-content pre {
            white-space: pre-wrap;
            color: var(--text-primary);
            line-height: 1.7;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Droid Sans Mono', monospace;
            font-size: 0.9em;
            margin: 0;
        }

        .protocol-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            justify-content: center;
        }

        .protocol-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .btn-copy {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--accent-hover) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.25);
        }

        .btn-copy:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.35);
        }

        .btn-print {
            background: linear-gradient(135deg, var(--success-color) 0%, var(--success-light) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.25);
        }

        .btn-print:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.35);
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Custom Dropdown Styles */
        .custom-select {
            position: relative;
            width: 100%;
            user-select: none;
        }

        .select-trigger {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            background: white;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .select-trigger:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .select-trigger.active {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
        }

        .select-trigger::after {
            content: '‚ñº';
            font-size: 12px;
            color: var(--accent-color);
            transition: transform 0.3s ease;
        }

        .select-trigger.active::after {
            transform: rotate(180deg);
        }

        .select-trigger .placeholder {
            color: var(--text-muted);
        }

        .custom-options {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            right: 0;
            background: white;
            border: 2px solid var(--accent-color);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            max-height: 280px;
            overflow-y: auto;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            list-style: none;
            padding: 8px;
            margin: 0;
        }

        .custom-options.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .custom-options li {
            padding: 12px 16px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            color: var(--text-primary);
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .custom-options li::before {
            content: '‚óã';
            color: var(--accent-color);
            font-size: 18px;
            transition: all 0.2s ease;
        }

        .custom-options li:hover {
            background: rgba(52, 152, 219, 0.08);
            padding-left: 20px;
        }

        .custom-options li.selected {
            background: rgba(52, 152, 219, 0.12);
            color: var(--accent-color);
            font-weight: 600;
        }

        .custom-options li.selected::before {
            content: '‚óè';
            color: var(--accent-color);
        }

        .custom-options::-webkit-scrollbar {
            width: 8px;
        }

        .custom-options::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
            border-radius: 4px;
        }

        .custom-options::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }

        .custom-options::-webkit-scrollbar-thumb:hover {
            background: var(--accent-hover);
        }

        /* Hide original select */
        select.hidden {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 15px 10px;
            }

            h1 {
                font-size: 1.8em;
                line-height: 1.2;
            }

            .subtitle {
                font-size: 1.1em;
                line-height: 1.5;
            }

            .header {
                padding: 30px 20px;
                border-radius: 16px;
            }

            .card {
                padding: 20px 15px;
                border-radius: 16px;
            }

            .card h2 {
                font-size: 1.3em;
            }

            .card li {
                font-size: 0.95em;
                padding: 10px 0;
                padding-left: 24px;
            }

            .demo-section {
                padding: 25px 15px;
                border-radius: 16px;
            }

            .demo-section h2 {
                font-size: 1.5em !important;
                margin-bottom: 25px !important;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .links {
                flex-direction: column;
            }

            .button {
                width: 100%;
                justify-content: center;
                padding: 14px 24px;
                font-size: 0.95em;
            }

            .form-group {
                margin-bottom: 20px;
            }

            label {
                font-size: 0.95em;
                margin-bottom: 8px;
            }

            input, select {
                padding: 12px 14px;
                font-size: 15px;
            }

            .submit-btn {
                padding: 16px 32px;
                font-size: 16px;
            }

            .result-card {
                padding: 20px 15px;
                border-radius: 16px;
            }

            .result-title {
                font-size: 1.4em !important;
                margin-bottom: 20px !important;
                line-height: 1.3;
            }

            .metrics-grid {
                grid-template-columns: 1fr !important;
                gap: 0 !important;
                margin-bottom: 20px !important;
            }

            .metric {
                padding: 12px 0;
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
                border-bottom: 1px solid var(--border-color);
            }

            .metric:hover {
                padding: 12px 10px;
                margin: 0 -10px;
            }

            .metric-label {
                font-size: 0.9em;
                width: 100%;
                color: var(--text-secondary);
            }

            .metric-value {
                font-size: 1.05em;
                width: 100%;
                text-align: left;
                color: var(--success-color);
            }

            .protocol-section {
                padding: 20px 15px;
                border-radius: 12px;
                margin-top: 20px;
            }

            .protocol-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .protocol-header h4 {
                font-size: 1.2em;
            }

            .lab-ready-badge {
                font-size: 0.7em;
                padding: 5px 12px;
            }

            .protocol-content {
                padding: 15px;
                max-height: 400px;
                font-size: 0.85em;
            }

            .protocol-content pre {
                font-size: 0.75em;
                line-height: 1.5;
            }

            .protocol-actions {
                flex-direction: column;
                gap: 10px;
            }

            .protocol-btn {
                width: 100%;
                justify-content: center;
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .results > h3 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }

            .new-feature-tag {
                font-size: 1em;
            }

            .status {
                padding: 10px 20px;
                font-size: 0.85em;
            }
        }

        /* Extra small devices (phones in portrait) */
        @media (max-width: 480px) {
            body {
                padding: 10px 8px;
            }

            h1 {
                font-size: 1.5em;
            }

            .subtitle {
                font-size: 1em;
            }

            .header {
                padding: 20px 15px;
            }

            .demo-section h2 {
                font-size: 1.3em !important;
            }

            .card {
                padding: 15px 12px;
            }

            .card h2 {
                font-size: 1.2em;
            }

            .demo-section {
                padding: 20px 12px;
            }

            .button {
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .submit-btn {
                padding: 14px 24px;
                font-size: 15px;
            }

            .result-title {
                font-size: 1.2em !important;
                margin-bottom: 15px !important;
            }

            .metrics-grid {
                margin-bottom: 15px !important;
            }

            .metric {
                padding: 10px 0;
            }

            .metric:hover {
                padding: 10px 8px;
                margin: 0 -8px;
            }

            .metric-label {
                font-size: 0.85em;
            }

            .metric-value {
                font-size: 1em;
            }

            .protocol-header h4 {
                font-size: 1.1em;
            }

            .protocol-content {
                padding: 12px;
                max-height: 350px;
            }

            .protocol-content pre {
                font-size: 0.7em;
            }

            .protocol-btn {
                padding: 10px 16px;
                font-size: 0.85em;
            }

            input, select {
                padding: 10px 12px;
                font-size: 14px;
            }

            .select-trigger {
                padding: 10px 12px;
                font-size: 14px;
            }

            .custom-options {
                max-height: 200px;
            }

            .custom-options li {
                padding: 10px 14px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
<div class="container">

    <div class="demo-section">
        <h2 style="text-align: center; color: var(--primary-color); font-size: 2em; font-weight: 700; margin-bottom: 35px;">
            üî¨ üß¨ AI-Guided Polymer Selection Platform
        </h2>

        <div class="demo-form">
            <form id="polymerForm">
                <div class="form-group">
                    <label for="polymer">Target Polymers</label>
                    <div class="custom-select" data-name="polymer">
                        <div class="select-trigger">
                            <span>Select polymer...</span>
                        </div>
                        <ol class="custom-options">
                            <li data-value="gelatin">Gelatin</li>
                            <li data-value="pva">PVA</li>
                            <li data-value="collagen">Collagen</li>
                        </ol>
                    </div>
                    <select id="polymer" class="hidden" required>
                        <option value="">Select polymer...</option>
                        <option value="gelatin">Gelatin</option>
                        <option value="pva">PVA</option>
                        <option value="collagen">Collagen</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="viability">Desired Cell Viability (%)</label>
                    <input type="number" id="viability" min="50" max="100" value="85" required>
                </div>

                <div class="form-group">
                    <label for="insulin">Target Insulin Level (ng/mL)</label>
                    <input type="number" id="insulin" min="1" max="20" value="10" step="0.1" required>
                </div>

                <div class="form-group">
                    <label for="scaffold">Scaffold Format</label>
                    <div class="custom-select" data-name="scaffold">
                        <div class="select-trigger">
                            <span>Select scaffold format...</span>
                        </div>
                        <ol class="custom-options">
                            <li data-value="hydrogel">Hydrogel</li>
                            <li data-value="porous">Porous Scaffold</li>
                            <li data-value="fiber">Fiber</li>
                            <li data-value="microparticle">Microparticle</li>
                        </ol>
                    </div>
                    <select id="scaffold" class="hidden" required>
                        <option value="">Select scaffold format...</option>
                        <option value="hydrogel">Hydrogel</option>
                        <option value="porous">Porous Scaffold</option>
                        <option value="fiber">Fiber</option>
                        <option value="microparticle">Microparticle</option>
                    </select>
                </div>

                <button type="submit" class="submit-btn">
                    Get AI Recommendations üöÄ
                </button>
            </form>

            <div id="results" class="results">
                <h3>üéØ Top Recommendations</h3>
                <div id="resultsContent"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // Custom Dropdown Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const customSelects = document.querySelectorAll('.custom-select');

        customSelects.forEach(select => {
            const trigger = select.querySelector('.select-trigger');
            const options = select.querySelector('.custom-options');
            const hiddenSelect = document.getElementById(select.dataset.name);
            const optionsList = options.querySelectorAll('li');

            // Toggle dropdown
            trigger.addEventListener('click', function(e) {
                e.stopPropagation();

                // Close other dropdowns
                document.querySelectorAll('.custom-select').forEach(s => {
                    if (s !== select) {
                        s.querySelector('.select-trigger').classList.remove('active');
                        s.querySelector('.custom-options').classList.remove('show');
                    }
                });

                // Toggle current dropdown
                trigger.classList.toggle('active');
                options.classList.toggle('show');
            });

            // Select option
            optionsList.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();

                    // Remove selected class from all options
                    optionsList.forEach(opt => opt.classList.remove('selected'));

                    // Add selected class to clicked option
                    option.classList.add('selected');

                    // Update trigger text
                    const span = trigger.querySelector('span');
                    span.textContent = option.textContent;
                    span.classList.remove('placeholder');

                    // Update hidden select
                    hiddenSelect.value = option.dataset.value;

                    // Close dropdown
                    trigger.classList.remove('active');
                    options.classList.remove('show');

                    // Trigger change event for validation
                    hiddenSelect.dispatchEvent(new Event('change'));
                });
            });
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', function() {
            document.querySelectorAll('.custom-select').forEach(select => {
                select.querySelector('.select-trigger').classList.remove('active');
                select.querySelector('.custom-options').classList.remove('show');
            });
        });

        // Close dropdowns on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.custom-select').forEach(select => {
                    select.querySelector('.select-trigger').classList.remove('active');
                    select.querySelector('.custom-options').classList.remove('show');
                });
            }
        });
    });

    document.getElementById('polymerForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const submitBtn = e.target.querySelector('.submit-btn');
        const originalText = submitBtn.innerHTML;

        // Show loading state
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<span class="loading"></span> Processing...';

        const viability = document.getElementById('viability').value;
        const insulin = document.getElementById('insulin').value;
        const scaffold = document.getElementById('scaffold').value;

        // Simulate API delay for demo
        await new Promise(resolve => setTimeout(resolve, 1500));

        // Demo recommendations (would normally call API)
        const recommendations = [
            {
                name: "PEG-Alginate Blend",
                composition: "60% PEG, 40% Alginate",
                confidence: "85%",
                viability: "85.0%",
                insulin_basal: "9.6 ng/mL",
                insulin_stimulated: "14.4 ng/mL",
                porosity: "75%",
                pore_size: "120 Œºm",
                fabrication_protocol: `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
DETAILED FABRICATION PROTOCOL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

COMPOSITION SPECIFICATIONS:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Polymer Blend Ratio:
‚Ä¢ PEG: 60.0% (w/w) ‚Üí 6.00 g for 10.0 mL solution
‚Ä¢ Alginate: 40.0% (w/w) ‚Üí 0.80 g for 10.0 mL solution

Target Scaffold Properties:
‚Ä¢ Porosity: 75.0%
‚Ä¢ Pore Size: 120.0 Œºm
‚Ä¢ Elastic Modulus: 50.0 MPa
‚Ä¢ Degradation Rate: 14 days
‚Ä¢ Crosslink Density: 0.70

üìã MATERIALS REQUIRED:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚ñ° PEG (pharmaceutical grade): 6.00 g
‚ñ° Alginate (pharmaceutical grade): 0.80 g
‚ñ° Distilled water or PBS: 10.0 mL
‚ñ° UV photoinitiator (Irgacure 2959): 0.16% w/v
‚ñ° Calcium chloride (CaCl‚ÇÇ): 155 mM solution
‚ñ° Magnetic stirrer and stir bar
‚ñ° Analytical balance (¬±0.0001 g)
‚ñ° Sterile molds
‚ñ° Freeze dryer
‚ñ° UV crosslinking chamber (365 nm)

STEP 1: POLYMER SOLUTION PREPARATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
1.1. Weigh polymers accurately:
 - PEG: 6.00 ¬± 0.01 g
 - Alginate: 0.80 ¬± 0.01 g

1.2. Add 10.0 mL PBS to sterile beaker

1.3. Add PEG gradually while stirring at 300 rpm

1.4. Add Alginate in small portions over 10 minutes

1.5. Stir continuously at 400 rpm for 3 hours

1.6. Remove air bubbles by vacuum degassing (15 min)

STEP 2: CROSSLINKING AGENT PREPARATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
2.1. UV photoinitiator: 0.16% w/v in 1.0 mL PBS
2.2. CaCl‚ÇÇ solution: 155 mM in distilled water
2.3. Add photoinitiator dropwise to polymer solution
2.4. Mix thoroughly for 20 minutes at RT

STEP 3: SCAFFOLD FORMATION (Freeze-drying)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
3.1. Pour solution into pre-cooled molds
3.2. Freeze at -80¬∞C for 18 hours
 (Controlled rate: 1¬∞C/min)
3.3. Transfer to freeze dryer
3.4. Lyophilize at 0.05 mbar for 36 hours
3.5. Remove scaffolds from molds carefully

STEP 4: CROSSLINKING
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
PEG Crosslinking:
‚Ä¢ UV exposure: 365 nm, 15 minutes
‚Ä¢ Intensity: 7 mW/cm¬≤
‚Ä¢ Rotate samples every 5 minutes

Alginate Crosslinking:
‚Ä¢ Immerse in 155 mM CaCl‚ÇÇ solution
‚Ä¢ Duration: 24 minutes at room temperature
‚Ä¢ Gentle agitation

STEP 5: POST-PROCESSING
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
5.1. Wash 3√ó with distilled water (10 min each)
5.2. Wash 2√ó with PBS pH 7.4 (10 min each)
5.3. Soak in fresh PBS for 24h at 4¬∞C
 (Change PBS every 8 hours - minimum 3 changes)
5.4. Verify pH: 7.2-7.6

STEP 6: STERILIZATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
UV Sterilization (Recommended):
‚Ä¢ 254 nm UV light for 30 minutes each side
‚Ä¢ In laminar flow hood
‚Ä¢ Air dry under UV for 15 additional minutes

STEP 7: CHARACTERIZATION & QC
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Required Tests:
‚úì SEM imaging ‚Üí Pore size: 120 ¬± 20 Œºm
‚úì Porosity measurement ‚Üí Target: 75 ¬± 5%
‚úì Mechanical testing ‚Üí Modulus: 50 ¬± 10 MPa
‚úì FTIR spectroscopy ‚Üí Confirm crosslinking
‚úì Degradation study ‚Üí Monitor 14 days
‚úì Biocompatibility ‚Üí Viability >80%

STEP 8: PRE-CONDITIONING
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
8.1. Equilibrate in CMRL-1066 medium
 (37¬∞C, 5% CO‚ÇÇ, 24 hours)

8.2. Optional ECM coating:
 - Fibronectin (10 Œºg/mL, 2 hours) OR
 - Laminin (5 Œºg/mL, 2 hours)

STEP 9: BETA-CELL SEEDING
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
9.1. Cell density: 2 √ó 10‚Å∂ cells/mL
9.2. Verify viability >90% (trypan blue)
9.3. Seed 75 ŒºL per scaffold
9.4. Allow attachment for 3 hours
9.5. Add culture medium carefully
9.6. Culture: 37¬∞C, 5% CO‚ÇÇ, 95% humidity

‚ö†Ô∏è  SAFETY NOTES:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚Ä¢ Wear PPE (lab coat, gloves, safety goggles)
‚Ä¢ UV exposure can be harmful - use shielding
‚Ä¢ Work in biosafety cabinet for cell procedures
‚Ä¢ Dispose of waste per institutional guidelines

üõ†Ô∏è  TROUBLESHOOTING:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Problem: Irregular pore structure
‚Üí Solution: Optimize freezing rate to 1¬∞C/min

Problem: Scaffold too brittle
‚Üí Solution: Increase crosslink density to 0.8

Problem: Low cell viability
‚Üí Solution: Ensure complete reagent removal (more washing)

Problem: Poor cell attachment
‚Üí Solution: Add fibronectin coating (10 Œºg/mL)

‚úì EXPECTED OUTCOMES:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚Ä¢ Uniform pore structure with interconnectivity
‚Ä¢ Mechanical properties suitable for beta-cells
‚Ä¢ High cell viability (>85%)
‚Ä¢ Insulin secretion: Basal 9.6 ng/mL, Stimulated 14.4 ng/mL
‚Ä¢ Minimal inflammatory response
‚Ä¢ Degradation matched to tissue regeneration (14 days)

Total Time: ~4-5 days (including crosslinking and QC)`
            }
        ];

        const resultsDiv = document.getElementById('results');
        const resultsContent = document.getElementById('resultsContent');

        resultsContent.innerHTML = recommendations.map((rec, i) => `
            <div class="result-card">
                <h3 class="result-title">
                    #${i + 1}: ${rec.name}
                </h3>

                <div class="metrics-grid">
                    <div class="metric">
                        <span class="metric-label">Composition</span>
                        <span class="metric-value">${rec.composition}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Confidence</span>
                        <span class="metric-value">${rec.confidence}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Viability</span>
                        <span class="metric-value">${rec.viability}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Insulin (Basal)</span>
                        <span class="metric-value">${rec.insulin_basal}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Insulin (Stimulated)</span>
                        <span class="metric-value">${rec.insulin_stimulated}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Porosity</span>
                        <span class="metric-value">${rec.porosity}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Pore Size</span>
                        <span class="metric-value">${rec.pore_size}</span>
                    </div>
                </div>

                <div class="protocol-section">
                    <div class="protocol-header">
                        <h4>üß™ Complete Fabrication Protocol</h4>
                        <span class="lab-ready-badge">LAB-READY</span>
                    </div>
                    <div class="protocol-content">
                        <pre>${rec.fabrication_protocol}</pre>
                    </div>
                    <div class="protocol-actions">
                        <button onclick="copyProtocol(${i})" class="protocol-btn btn-copy">
                            üìã Copy Protocol
                        </button>
                        <button onclick="printProtocol(${i})" class="protocol-btn btn-print">
                            üñ®Ô∏è Print Protocol
                        </button>
                    </div>
                </div>
            </div>
        `).join('');

        resultsDiv.classList.add('show');
        resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

        // Reset button state
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalText;
    });

    // Function to copy protocol to clipboard
    window.copyProtocol = function(index) {
        const recommendations = [
            {
                fabrication_protocol: document.querySelectorAll('pre')[index].textContent
            }
        ];

        const protocol = document.querySelectorAll('pre')[index].textContent;

        navigator.clipboard.writeText(protocol).then(() => {
            alert('‚úì Protocol copied to clipboard!\n\nYou can now paste it into your lab notebook or text editor.');
        }).catch(err => {
            console.error('Failed to copy:', err);
            alert('Failed to copy protocol. Please select and copy manually.');
        });
    };

    // Function to print protocol
    window.printProtocol = function(index) {
        const protocol = document.querySelectorAll('pre')[index].textContent;
        const printWindow = window.open('', '_blank');
        printWindow.document.write(`
            <html>
            <head>
                <title>Fabrication Protocol - Print</title>
                <style>
                    body {
                        font-family: 'Courier New', monospace;
                        padding: 20px;
                        line-height: 1.6;
                        color: #333;
                    }
                    pre {
                        white-space: pre-wrap;
                        font-size: 12pt;
                    }
                    @media print {
                        body { padding: 0; }
                    }
                </style>
            </head>
            <body>
                <pre>${protocol}</pre>
            </body>
            </html>
        `);
        printWindow.document.close();
        setTimeout(() => {
            printWindow.print();
        }, 250);
    };
</script>
</body>
</html>

